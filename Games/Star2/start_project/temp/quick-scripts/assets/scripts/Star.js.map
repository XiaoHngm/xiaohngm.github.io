{"version":3,"sources":["Star.js"],"names":["cc","Class","extends","Component","properties","maxStarDuration","minStarDuration","minOpacity","onLoad","starDuration","Math","random","timer","start","update","dt","opacityRatio","node","opacity","floor"],"mappings":";;;;;;AAGAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiB,CADT,EACW;AACnBC,yBAAiB,CAFT;AAGRC,oBAAY,EAHJ,CAGO;AAHP,KAHP;;AASLC,UATK,oBASK;AACN,aAAKC,YAAL,GAAoB,KAAKH,eAAL,GAAuBI,KAAKC,MAAL,MAAiB,KAAKN,eAAL,GAAuB,KAAKC,eAA7C,CAA3C;AACA,aAAKM,KAAL,GAAa,CAAb;AACH,KAZI;AAcLC,SAdK,mBAcI,CAAE,CAdN;;;AAgBLC,YAAQ,gBAAUC,EAAV,EAAc;AAClB;AACA,aAAKH,KAAL,IAAcG,EAAd;AACA,YAAIC,eAAe,IAAI,KAAKJ,KAAL,GAAW,KAAKH,YAAvC;AACA,aAAKQ,IAAL,CAAUC,OAAV,GAAoB,KAAKX,UAAL,GAAkBG,KAAKS,KAAL,CAAWH,gBAAgB,MAAM,KAAKT,UAA3B,CAAX,CAAtC;AACH;AArBI,CAAT","file":"Star.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["\r\n\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        maxStarDuration: 5,// 星星产生后消失时间的随机范围\r\n        minStarDuration: 3,\r\n        minOpacity: 50,//星星的透明度最小值\r\n    },\r\n\r\n    onLoad () {\r\n        this.starDuration = this.minStarDuration + Math.random() * (this.maxStarDuration - this.minStarDuration);\r\n        this.timer = 0;\r\n    },\r\n\r\n    start () {},\r\n\r\n    update: function (dt) {\r\n        // 根据 Game 脚本中的计时器更新星星的透明度\r\n        this.timer += dt;\r\n        var opacityRatio = 1 - this.timer/this.starDuration;\r\n        this.node.opacity = this.minOpacity + Math.floor(opacityRatio * (255 - this.minOpacity));\r\n    },\r\n});\r\n"]}